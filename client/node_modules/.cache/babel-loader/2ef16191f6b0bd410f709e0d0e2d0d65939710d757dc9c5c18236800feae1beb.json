{"ast":null,"code":"var _jsxFileName = \"/Users/juneahmed/gramcare/client/src/pages/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Send, Bot, User, Loader, Globe, Mic, MicOff, RefreshCw, Heart, AlertCircle, CheckCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { chatAPI } from '../utils/api';\nimport LanguageSelection from '../components/LanguageSelection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  var _languages$find;\n  const [languageSelected, setLanguageSelected] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [currentLanguage, setCurrentLanguage] = useState('en');\n  const [supportedLanguages, setSupportedLanguages] = useState({});\n  const [autoDetectLanguage, setAutoDetectLanguage] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const quickReplies = [{\n    text: 'Dengue symptoms',\n    icon: '🦟'\n  }, {\n    text: 'Malaria prevention',\n    icon: '🛡️'\n  }, {\n    text: 'Child vaccination',\n    icon: '💉'\n  }, {\n    text: 'Diarrhea treatment',\n    icon: '💊'\n  }, {\n    text: 'Nearest health center',\n    icon: '🏥'\n  }, {\n    text: 'COVID-19 guidelines',\n    icon: '😷'\n  }];\n  const languages = [{\n    code: 'en',\n    name: 'English',\n    flag: '🇺🇸'\n  }, {\n    code: 'hi',\n    name: 'हिंदी',\n    flag: '🇮🇳'\n  }, {\n    code: 'bn',\n    name: 'বাংলা',\n    flag: '🇧🇩'\n  }, {\n    code: 'as',\n    name: 'অসমীয়া',\n    flag: '🇮🇳'\n  }, {\n    code: 'te',\n    name: 'తెలుగు',\n    flag: '🇮🇳'\n  }];\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    // Fetch supported languages on component mount\n    fetchSupportedLanguages();\n  }, []);\n  const fetchSupportedLanguages = async () => {\n    try {\n      const data = await chatAPI.getSupportedLanguages();\n      if (data.success) {\n        setSupportedLanguages(data.languages);\n      }\n    } catch (error) {\n      console.error('Error fetching supported languages:', error);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const sendMessage = async (messageText = inputMessage) => {\n    if (!messageText.trim()) return;\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: messageText,\n      timestamp: new Date(),\n      language: currentLanguage\n    };\n\n    // Clear any previous error messages and add the new user message\n    setMessages(prev => [...prev.filter(msg => !msg.isError), userMessage]);\n    const currentMessage = messageText;\n    setInputMessage('');\n    setIsTyping(true);\n    setIsLoading(true);\n    try {\n      // Send message to backend\n      const data = await chatAPI.sendMessage(currentMessage, autoDetectLanguage ? 'auto' : currentLanguage, 'demo-user', 'web-session-' + Date.now());\n      if (data.success) {\n        const botMessage = {\n          id: Date.now() + 1,\n          type: 'bot',\n          content: data.response || 'I apologize, but I\\'m having trouble processing your request right now. Please try again.',\n          timestamp: new Date(),\n          language: data.language || currentLanguage,\n          confidence: data.confidence,\n          category: data.category,\n          suggestions: data.suggestions || []\n        };\n        setMessages(prev => [...prev, botMessage]);\n\n        // Update detected language if auto-detect is enabled\n        if (autoDetectLanguage && data.language && data.language !== currentLanguage) {\n          setCurrentLanguage(data.language);\n        }\n      } else {\n        throw new Error(data.error || 'Failed to get response');\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: 'I\\'m sorry, I\\'m having trouble connecting right now. Please check your internet connection and try again.',\n        timestamp: new Date(),\n        language: currentLanguage,\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      toast.error('Connection error. Please try again.');\n    } finally {\n      setIsTyping(false);\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  const toggleVoiceInput = () => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = currentLanguage === 'hi' ? 'hi-IN' : 'en-US';\n      if (!isListening) {\n        setIsListening(true);\n        recognition.start();\n        toast.success('Listening... Speak now!');\n        recognition.onresult = event => {\n          const transcript = event.results[0][0].transcript;\n          setInputMessage(transcript);\n          setIsListening(false);\n        };\n        recognition.onerror = () => {\n          setIsListening(false);\n          toast.error('Voice recognition failed. Please try again.');\n        };\n        recognition.onend = () => {\n          setIsListening(false);\n        };\n      } else {\n        recognition.stop();\n        setIsListening(false);\n      }\n    } else {\n      toast.error('Voice recognition is not supported in your browser.');\n    }\n  };\n  const handleQuickReply = async suggestion => {\n    await sendMessage(suggestion);\n  };\n  const detectLanguage = async text => {\n    try {\n      const data = await chatAPI.detectLanguage(text);\n      if (data.success) {\n        return data.detectedLanguage;\n      }\n    } catch (error) {\n      console.error('Language detection error:', error);\n    }\n    return 'en'; // Default to English\n  };\n  const handleLanguageSelection = selectedLanguage => {\n    setCurrentLanguage(selectedLanguage);\n    setLanguageSelected(true);\n\n    // Initialize chat with welcome message in selected language\n    const welcomeMessages = {\n      'en': 'Hello! I\\'m your GramCare health assistant. I can help you with any questions, provide information, and share helpful tips. How can I assist you today?',\n      'hi': 'नमस्ते! मैं आपका ग्रामकेयर सहायक हूँ। मैं आपके किसी भी प्रश्न में मदद कर सकता हूँ, जानकारी प्रदान कर सकता हूँ और उपयोगी सुझाव दे सकता हूँ। आज मैं आपकी कैसे सहायता कर सकता हूँ?',\n      'bn': 'নমস্কার! আমি আপনার গ্রামকেয়ার সহায়ক। আমি আপনার যেকোনো প্রশ্নে সাহায্য করতে পারি, তথ্য প্রদান করতে পারি এবং সহায়ক পরামর্শ দিতে পারি। আজ আমি কীভাবে আপনাকে সহায়তা করতে পারি?',\n      'as': 'নমস্কাৰ! মই আপোনাৰ গ্ৰামকেয়াৰ সহায়ক। মই আপোনাৰ যিকোনো প্ৰশ্নত সহায় কৰিব পাৰোঁ, তথ্য প্ৰদান কৰিব পাৰোঁ আৰু সহায়ক পৰামৰ্শ দিব পাৰোঁ। আজি মই আপোনাক কেনেকৈ সহায় কৰিব পাৰোঁ?',\n      'te': 'నమస్కారం! నేను మీ గ్రామకేయర్ సహాయకుడను। నేను మీ ఏ ప్రశ్నకైనా సహాయం చేయగలను, సమాచారం అందించగలను మరియు సహాయకరమైన సలహాలు ఇవ్వగలను। ఈరోజు నేను మీకు ఎలా సహాయం చేయగలను?'\n    };\n    setMessages([{\n      id: 1,\n      type: 'bot',\n      content: welcomeMessages[selectedLanguage] || welcomeMessages['en'],\n      timestamp: new Date(),\n      language: selectedLanguage\n    }]);\n  };\n  const clearChat = () => {\n    setMessages([{\n      id: 1,\n      type: 'bot',\n      content: 'Chat cleared! How can I help you today?',\n      timestamp: new Date(),\n      language: currentLanguage\n    }]);\n    toast.success('Chat cleared successfully!');\n  };\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen pt-16 bg-gradient-to-br from-blue-50 via-white to-green-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto h-screen flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"bg-white/80 backdrop-blur-md border-b border-gray-200/50 p-4 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              className: \"w-6 h-6 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"GramCare Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Always here to help with your health questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: autoDetectLanguage,\n                onChange: e => setAutoDetectLanguage(e.target.checked),\n                className: \"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Auto-detect\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: currentLanguage,\n              onChange: e => setCurrentLanguage(e.target.value),\n              disabled: autoDetectLanguage,\n              className: `px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${autoDetectLanguage ? 'opacity-50 cursor-not-allowed' : ''}`,\n              children: Object.keys(supportedLanguages).length > 0 ? Object.entries(supportedLanguages).map(([code, name]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: code,\n                children: name\n              }, code, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this)) : languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: lang.code,\n                children: [lang.flag, \" \", lang.name]\n              }, lang.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            onClick: clearChat,\n            className: \"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\",\n            title: \"Clear chat\",\n            children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar\",\n        children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: messages.map(message => /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 20,\n              scale: 0.95\n            },\n            animate: {\n              opacity: 1,\n              y: 0,\n              scale: 1\n            },\n            exit: {\n              opacity: 0,\n              y: -20,\n              scale: 0.95\n            },\n            transition: {\n              duration: 0.3\n            },\n            className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-start space-x-3 max-w-xs sm:max-w-md lg:max-w-lg ${message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${message.type === 'user' ? 'bg-gradient-to-br from-blue-500 to-purple-600' : 'bg-gradient-to-br from-green-500 to-teal-600'}`,\n                children: message.type === 'user' ? /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-4 h-4 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n                  className: \"w-4 h-4 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `relative px-4 py-3 rounded-2xl ${message.type === 'user' ? 'chat-bubble-user' : message.isError ? 'bg-red-100 border border-red-200 text-red-800' : 'chat-bubble-bot'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm leading-relaxed whitespace-pre-wrap\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mt-2 text-xs opacity-70\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatTime(message.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 23\n                  }, this), message.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1\",\n                    children: [message.confidence > 0.8 ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [Math.round(message.confidence * 100), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this), message.suggestions && message.suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs opacity-70\",\n                    children: \"Quick replies:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-1\",\n                    children: message.suggestions.slice(0, 3).map((suggestion, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleQuickReply(suggestion),\n                      className: \"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors\",\n                      children: suggestion\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: isTyping && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            exit: {\n              opacity: 0,\n              y: -20\n            },\n            className: \"flex justify-start\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Bot, {\n                  className: \"w-4 h-4 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-100 px-4 py-3 rounded-2xl\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: '0.1s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: '0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), messages.length <= 2 && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"px-4 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mb-3\",\n          children: \"Quick questions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: quickReplies.map((reply, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            onClick: () => sendMessage(reply.text),\n            className: \"inline-flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 rounded-full text-sm text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: reply.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: reply.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"bg-white/80 backdrop-blur-md border-t border-gray-200/50 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              ref: inputRef,\n              value: inputMessage,\n              onChange: e => setInputMessage(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: `Type your health question in ${(_languages$find = languages.find(l => l.code === currentLanguage)) === null || _languages$find === void 0 ? void 0 : _languages$find.name}...`,\n              className: \"w-full px-4 py-3 pr-12 bg-gray-50 border border-gray-200 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\",\n              rows: 1,\n              style: {\n                minHeight: '48px',\n                maxHeight: '120px'\n              },\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.1\n              },\n              whileTap: {\n                scale: 0.9\n              },\n              onClick: toggleVoiceInput,\n              className: `absolute right-3 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-colors ${isListening ? 'bg-red-500 text-white' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`,\n              disabled: isLoading,\n              children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            onClick: () => sendMessage(),\n            disabled: !inputMessage.trim() || isLoading,\n            className: `p-3 rounded-2xl transition-all duration-200 ${inputMessage.trim() && !isLoading ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl' : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`,\n            children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {\n              className: \"w-5 h-5 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Send, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-2 text-center\",\n          children: \"This is for informational purposes only. Always consult healthcare professionals for medical advice.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"KhkuRldx1gDB8mYeCe/HcEgEGTI=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Send","Bot","User","Loader","Globe","Mic","MicOff","RefreshCw","Heart","AlertCircle","CheckCircle","toast","chatAPI","LanguageSelection","jsxDEV","_jsxDEV","Chat","_s","_languages$find","languageSelected","setLanguageSelected","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","isListening","setIsListening","currentLanguage","setCurrentLanguage","supportedLanguages","setSupportedLanguages","autoDetectLanguage","setAutoDetectLanguage","isLoading","setIsLoading","messagesEndRef","inputRef","quickReplies","text","icon","languages","code","name","flag","scrollToBottom","fetchSupportedLanguages","data","getSupportedLanguages","success","error","console","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","messageText","trim","userMessage","id","Date","now","type","content","timestamp","language","prev","filter","msg","isError","currentMessage","botMessage","response","confidence","category","suggestions","Error","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","toggleVoiceInput","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","start","onresult","event","transcript","results","onerror","onend","stop","handleQuickReply","suggestion","detectLanguage","detectedLanguage","handleLanguageSelection","selectedLanguage","welcomeMessages","clearChat","formatTime","toLocaleTimeString","hour","minute","className","children","div","initial","opacity","y","animate","fileName","_jsxFileName","lineNumber","columnNumber","checked","onChange","target","value","disabled","Object","keys","length","entries","map","button","whileHover","scale","whileTap","onClick","title","message","exit","transition","duration","Math","round","slice","idx","style","animationDelay","ref","reply","index","onKeyPress","placeholder","find","l","rows","minHeight","maxHeight","_c","$RefreshReg$"],"sources":["/Users/juneahmed/gramcare/client/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Send, \n  Bot, \n  User, \n  Loader, \n  Globe, \n  Mic, \n  MicOff,\n  RefreshCw,\n  Heart,\n  AlertCircle,\n  CheckCircle\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { chatAPI } from '../utils/api';\nimport LanguageSelection from '../components/LanguageSelection';\n\nconst Chat = () => {\n  const [languageSelected, setLanguageSelected] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [currentLanguage, setCurrentLanguage] = useState('en');\n  const [supportedLanguages, setSupportedLanguages] = useState({});\n  const [autoDetectLanguage, setAutoDetectLanguage] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const quickReplies = [\n    { text: 'Dengue symptoms', icon: '🦟' },\n    { text: 'Malaria prevention', icon: '🛡️' },\n    { text: 'Child vaccination', icon: '💉' },\n    { text: 'Diarrhea treatment', icon: '💊' },\n    { text: 'Nearest health center', icon: '🏥' },\n    { text: 'COVID-19 guidelines', icon: '😷' }\n  ];\n\n  const languages = [\n    { code: 'en', name: 'English', flag: '🇺🇸' },\n    { code: 'hi', name: 'हिंदी', flag: '🇮🇳' },\n    { code: 'bn', name: 'বাংলা', flag: '🇧🇩' },\n    { code: 'as', name: 'অসমীয়া', flag: '🇮🇳' },\n    { code: 'te', name: 'తెలుగు', flag: '🇮🇳' }\n  ];\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    // Fetch supported languages on component mount\n    fetchSupportedLanguages();\n  }, []);\n\n  const fetchSupportedLanguages = async () => {\n    try {\n      const data = await chatAPI.getSupportedLanguages();\n      if (data.success) {\n        setSupportedLanguages(data.languages);\n      }\n    } catch (error) {\n      console.error('Error fetching supported languages:', error);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const sendMessage = async (messageText = inputMessage) => {\n    if (!messageText.trim()) return;\n\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: messageText,\n      timestamp: new Date(),\n      language: currentLanguage\n    };\n\n    // Clear any previous error messages and add the new user message\n    setMessages(prev => [...prev.filter(msg => !msg.isError), userMessage]);\n    const currentMessage = messageText;\n    setInputMessage('');\n    setIsTyping(true);\n    setIsLoading(true);\n\n    try {\n      // Send message to backend\n      const data = await chatAPI.sendMessage(\n        currentMessage,\n        autoDetectLanguage ? 'auto' : currentLanguage,\n        'demo-user',\n        'web-session-' + Date.now()\n      );\n      \n      if (data.success) {\n        const botMessage = {\n          id: Date.now() + 1,\n          type: 'bot',\n          content: data.response || 'I apologize, but I\\'m having trouble processing your request right now. Please try again.',\n          timestamp: new Date(),\n          language: data.language || currentLanguage,\n          confidence: data.confidence,\n          category: data.category,\n          suggestions: data.suggestions || []\n        };\n\n        setMessages(prev => [...prev, botMessage]);\n        \n        // Update detected language if auto-detect is enabled\n        if (autoDetectLanguage && data.language && data.language !== currentLanguage) {\n          setCurrentLanguage(data.language);\n        }\n      } else {\n        throw new Error(data.error || 'Failed to get response');\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: 'I\\'m sorry, I\\'m having trouble connecting right now. Please check your internet connection and try again.',\n        timestamp: new Date(),\n        language: currentLanguage,\n        isError: true\n      };\n\n      setMessages(prev => [...prev, errorMessage]);\n      toast.error('Connection error. Please try again.');\n    } finally {\n      setIsTyping(false);\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const toggleVoiceInput = () => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = currentLanguage === 'hi' ? 'hi-IN' : 'en-US';\n\n      if (!isListening) {\n        setIsListening(true);\n        recognition.start();\n        toast.success('Listening... Speak now!');\n\n        recognition.onresult = (event) => {\n          const transcript = event.results[0][0].transcript;\n          setInputMessage(transcript);\n          setIsListening(false);\n        };\n\n        recognition.onerror = () => {\n          setIsListening(false);\n          toast.error('Voice recognition failed. Please try again.');\n        };\n\n        recognition.onend = () => {\n          setIsListening(false);\n        };\n      } else {\n        recognition.stop();\n        setIsListening(false);\n      }\n    } else {\n      toast.error('Voice recognition is not supported in your browser.');\n    }\n  };\n\n  const handleQuickReply = async (suggestion) => {\n    await sendMessage(suggestion);\n  };\n\n  const detectLanguage = async (text) => {\n    try {\n      const data = await chatAPI.detectLanguage(text);\n      if (data.success) {\n        return data.detectedLanguage;\n      }\n    } catch (error) {\n      console.error('Language detection error:', error);\n    }\n    return 'en'; // Default to English\n  };\n\n  const handleLanguageSelection = (selectedLanguage) => {\n    setCurrentLanguage(selectedLanguage);\n    setLanguageSelected(true);\n    \n    // Initialize chat with welcome message in selected language\n    const welcomeMessages = {\n      'en': 'Hello! I\\'m your GramCare health assistant. I can help you with any questions, provide information, and share helpful tips. How can I assist you today?',\n      'hi': 'नमस्ते! मैं आपका ग्रामकेयर सहायक हूँ। मैं आपके किसी भी प्रश्न में मदद कर सकता हूँ, जानकारी प्रदान कर सकता हूँ और उपयोगी सुझाव दे सकता हूँ। आज मैं आपकी कैसे सहायता कर सकता हूँ?',\n      'bn': 'নমস্কার! আমি আপনার গ্রামকেয়ার সহায়ক। আমি আপনার যেকোনো প্রশ্নে সাহায্য করতে পারি, তথ্য প্রদান করতে পারি এবং সহায়ক পরামর্শ দিতে পারি। আজ আমি কীভাবে আপনাকে সহায়তা করতে পারি?',\n      'as': 'নমস্কাৰ! মই আপোনাৰ গ্ৰামকেয়াৰ সহায়ক। মই আপোনাৰ যিকোনো প্ৰশ্নত সহায় কৰিব পাৰোঁ, তথ্য প্ৰদান কৰিব পাৰোঁ আৰু সহায়ক পৰামৰ্শ দিব পাৰোঁ। আজি মই আপোনাক কেনেকৈ সহায় কৰিব পাৰোঁ?',\n      'te': 'నమస్కారం! నేను మీ గ్రామకేయర్ సహాయకుడను। నేను మీ ఏ ప్రశ్నకైనా సహాయం చేయగలను, సమాచారం అందించగలను మరియు సహాయకరమైన సలహాలు ఇవ్వగలను। ఈరోజు నేను మీకు ఎలా సహాయం చేయగలను?'\n    };\n    \n    setMessages([{\n      id: 1,\n      type: 'bot',\n      content: welcomeMessages[selectedLanguage] || welcomeMessages['en'],\n      timestamp: new Date(),\n      language: selectedLanguage\n    }]);\n  };\n\n  const clearChat = () => {\n    setMessages([\n      {\n        id: 1,\n        type: 'bot',\n        content: 'Chat cleared! How can I help you today?',\n        timestamp: new Date(),\n        language: currentLanguage\n      }\n    ]);\n    toast.success('Chat cleared successfully!');\n  };\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen pt-16 bg-gradient-to-br from-blue-50 via-white to-green-50\">\n      <div className=\"max-w-4xl mx-auto h-screen flex flex-col\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-white/80 backdrop-blur-md border-b border-gray-200/50 p-4 flex items-center justify-between\"\n        >\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n              <Heart className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-lg font-semibold text-gray-900\">GramCare Assistant</h1>\n              <p className=\"text-sm text-gray-500\">Always here to help with your health questions</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {/* Language Selector */}\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"flex items-center space-x-1\">\n                <input\n                  type=\"checkbox\"\n                  checked={autoDetectLanguage}\n                  onChange={(e) => setAutoDetectLanguage(e.target.checked)}\n                  className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                />\n                <span className=\"text-sm text-gray-600\">Auto-detect</span>\n              </label>\n              \n              <select\n                value={currentLanguage}\n                onChange={(e) => setCurrentLanguage(e.target.value)}\n                disabled={autoDetectLanguage}\n                className={`px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  autoDetectLanguage ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {Object.keys(supportedLanguages).length > 0 ? \n                  Object.entries(supportedLanguages).map(([code, name]) => (\n                    <option key={code} value={code}>{name}</option>\n                  )) :\n                  languages.map(lang => (\n                    <option key={lang.code} value={lang.code}>\n                      {lang.flag} {lang.name}\n                    </option>\n                  ))\n                }\n              </select>\n            </div>\n\n            {/* Clear Chat Button */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={clearChat}\n              className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n              title=\"Clear chat\"\n            >\n              <RefreshCw className=\"w-5 h-5\" />\n            </motion.button>\n          </div>\n        </motion.div>\n\n        {/* Messages Container */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar\">\n          <AnimatePresence>\n            {messages.map((message) => (\n              <motion.div\n                key={message.id}\n                initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: -20, scale: 0.95 }}\n                transition={{ duration: 0.3 }}\n                className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div className={`flex items-start space-x-3 max-w-xs sm:max-w-md lg:max-w-lg ${message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`}>\n                  {/* Avatar */}\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${message.type === 'user' ? 'bg-gradient-to-br from-blue-500 to-purple-600' : 'bg-gradient-to-br from-green-500 to-teal-600'}`}>\n                    {message.type === 'user' ? (\n                      <User className=\"w-4 h-4 text-white\" />\n                    ) : (\n                      <Bot className=\"w-4 h-4 text-white\" />\n                    )}\n                  </div>\n\n                  {/* Message Bubble */}\n                  <div className={`relative px-4 py-3 rounded-2xl ${message.type === 'user' ? 'chat-bubble-user' : message.isError ? 'bg-red-100 border border-red-200 text-red-800' : 'chat-bubble-bot'}`}>\n                    <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">\n                      {message.content}\n                    </p>\n                    \n                    {/* Message metadata */}\n                    <div className=\"flex items-center justify-between mt-2 text-xs opacity-70\">\n                      <span>{formatTime(message.timestamp)}</span>\n                      {message.confidence && (\n                        <div className=\"flex items-center space-x-1\">\n                          {message.confidence > 0.8 ? (\n                            <CheckCircle className=\"w-3 h-3\" />\n                          ) : (\n                            <AlertCircle className=\"w-3 h-3\" />\n                          )}\n                          <span>{Math.round(message.confidence * 100)}%</span>\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Quick reply suggestions */}\n                    {message.suggestions && message.suggestions.length > 0 && (\n                      <div className=\"mt-3 space-y-1\">\n                        <p className=\"text-xs opacity-70\">Quick replies:</p>\n                        <div className=\"flex flex-wrap gap-1\">\n                          {message.suggestions.slice(0, 3).map((suggestion, idx) => (\n                            <button\n                              key={idx}\n                              onClick={() => handleQuickReply(suggestion)}\n                              className=\"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors\"\n                            >\n                              {suggestion}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </AnimatePresence>\n\n          {/* Typing Indicator */}\n          <AnimatePresence>\n            {isTyping && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"flex justify-start\"\n              >\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center\">\n                    <Bot className=\"w-4 h-4 text-white\" />\n                  </div>\n                  <div className=\"bg-gray-100 px-4 py-3 rounded-2xl\">\n                    <div className=\"flex space-x-1\">\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Quick Replies */}\n        {messages.length <= 2 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"px-4 py-2\"\n          >\n            <p className=\"text-sm text-gray-500 mb-3\">Quick questions:</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {quickReplies.map((reply, index) => (\n                <motion.button\n                  key={index}\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={() => sendMessage(reply.text)}\n                  className=\"inline-flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 rounded-full text-sm text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-colors\"\n                >\n                  <span>{reply.icon}</span>\n                  <span>{reply.text}</span>\n                </motion.button>\n              ))}\n            </div>\n          </motion.div>\n        )}\n\n        {/* Input Area */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-white/80 backdrop-blur-md border-t border-gray-200/50 p-4\"\n        >\n          <div className=\"flex items-end space-x-3\">\n            <div className=\"flex-1 relative\">\n              <textarea\n                ref={inputRef}\n                value={inputMessage}\n                onChange={(e) => setInputMessage(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder={`Type your health question in ${languages.find(l => l.code === currentLanguage)?.name}...`}\n                className=\"w-full px-4 py-3 pr-12 bg-gray-50 border border-gray-200 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n                rows={1}\n                style={{ minHeight: '48px', maxHeight: '120px' }}\n                disabled={isLoading}\n              />\n              \n              {/* Voice Input Button */}\n              <motion.button\n                whileHover={{ scale: 1.1 }}\n                whileTap={{ scale: 0.9 }}\n                onClick={toggleVoiceInput}\n                className={`absolute right-3 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-colors ${\n                  isListening \n                    ? 'bg-red-500 text-white' \n                    : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'\n                }`}\n                disabled={isLoading}\n              >\n                {isListening ? (\n                  <MicOff className=\"w-4 h-4\" />\n                ) : (\n                  <Mic className=\"w-4 h-4\" />\n                )}\n              </motion.button>\n            </div>\n\n            {/* Send Button */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={() => sendMessage()}\n              disabled={!inputMessage.trim() || isLoading}\n              className={`p-3 rounded-2xl transition-all duration-200 ${\n                inputMessage.trim() && !isLoading\n                  ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl'\n                  : 'bg-gray-200 text-gray-400 cursor-not-allowed'\n              }`}\n            >\n              {isLoading ? (\n                <Loader className=\"w-5 h-5 animate-spin\" />\n              ) : (\n                <Send className=\"w-5 h-5\" />\n              )}\n            </motion.button>\n          </div>\n\n          {/* Disclaimer */}\n          <p className=\"text-xs text-gray-500 mt-2 text-center\">\n            This is for informational purposes only. Always consult healthcare professionals for medical advice.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}